<!DOCTYPE html>
<html>
    <head>
        <title>Neighborhood Map Project</title>
        <link rel="stylesheet" href="css/app.css">
        <!-- Normalize css -->
        <link rel="stylesheet" href="css/normalize.css">
        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    </head>
    
    <body>
            
        <div id="map-container">
                <div id="map"></div>           
        </div>  
        <div class="container">
            <div id="list-container">
                <div>
                    <input data-bind="textInput: filter(), value: searchboxtest, valueUpdate: 'afterkeydown'" type="text" id="search-box" placeholder=" .. Search SF Coffe Shops">
                </div>
                <div id="show-hide-markers-container">
                    <div class="show-hide" id="hide-markers" data-bind="click: hideMarkers">Hide All</div>
                    <div class="show-hide" id="show-markers" data-bind="click: showMarkers">Display All</div>
                </div>
                <div id="foursquare-mention">
                    <a target="blank" href="https://foursquare.com">
                        <img id="foursquare-logo" src="images/foursquare-logo.png" alt="">
                        Results provided by Foursquare 
                    </a>
                </div>
                <ul data-bind="foreach: listedItems" id="list-ul">
                    <li class="items" data-bind="click: $parent.openMarker">
                        <div class="info-container">
                            <a class="name" href="#"data-bind="text: name"></a>
                            <br>
                            <span class="address" data-bind="text: address"></span>
                            <br>
                            <span class="time" data-bind="text: time"></span>
                            <br>
                        </div>
                        
                        <div class="rating-container">
                            <span class="rating" data-bind="text: rating"></span>                        
                        </div>
                        <br>
                    </li>
                </ul>

            </div>
                        
        </div>

        <!-- Scripts -->
        <script>
            let windowHeight = window.innerHeight + "px";
            if(window.innerWidth >= 768){
                document.getElementById("map").style.height = windowHeight;
            }
            $(window).resize(function(){
                if(window.innerWidth >= 768){
                 document.getElementById("map").style.height = windowHeight;
                } 
                // else {
                // document.getElementById("map-container").style.height = "45%";
                // }
            });
        </script>
        <!-- Google Maps Call -->
        <script async defer
            src="https://maps.googleapis.com/maps/api/js?libraries=drawing,geometry&key=AIzaSyDq6WjLcfMSZ-bWYxkRr-EZ8NbcioNfzYE&v=3"
            onerror="googleError()">
        </script>
        <!-- Main script --><script async src="scripts/app.js"></script>
        <!-- FourSquare --><script src="scripts/foursquare.js"></script>
        <!-- Knockoutjs --><script src="scripts/knockout.js"></script> 
        <!-- Knockout ViewModel --><script src="scripts/viewModel.js"></script> 
        <!-- Google Maps API call -->


    </body>
    
    </html>